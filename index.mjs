// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@v0.2.2-esm/index.mjs";export{default as idx}from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/proxy-ctor@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2object@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-complex-floating-point-data-type@v0.2.2-esm/index.mjs";import{isPrimitive as a}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-method-in@v0.2.2-esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-real-floating-point-data-type@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-unsigned-integer-data-type@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-signed-integer-data-type@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-boolean-data-type@v0.1.0-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-safe-data-type-cast@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-min-dtype@v0.3.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-min-signed-integer-dtype@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-dtype@v0.2.2-esm/index.mjs";import I from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-trim@v0.2.2-esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-multi@v0.2.2-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2multislice@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-seq2multislice@v0.2.2-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-str2slice@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-sargs2multislice@v0.3.2-esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-properties-in@v0.2.2-esm/index.mjs";import{factory as k}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice@v0.2.2-esm/index.mjs";import U from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice-assign@v0.2.1-esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-floating-point-data-type@v0.2.2-esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-unsigned-integer-data-type@esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-signed-integer-data-type@esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int8-max@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int16-max@esm/index.mjs";import Q from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int32-max@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-min-dtype@esm/index.mjs";import G from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-dtype@esm/index.mjs";import W from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-from-scalar@esm/index.mjs";var Y="function"==typeof n;function $(e){return a(e)?[e,0]:e}function z(e,r){return function(t){return e(t,r)}}function H(e,r){return m(r)?p(r,"strict")&&(e.strict=r.strict,!c(e.strict))?new TypeError(l("null2o","strict",e.strict)):p(r,"cache")&&(e.cache=r.cache,!h(e.cache,"get"))?new TypeError(l("invalid option. `%s` option is missing a `%s` method. Option: `%s`.","cache","get",e.cache)):null:new TypeError(l("null2V",r))}function J(){return null}function K(e,r){return c(e)?null:new TypeError(l("nullEw",typeof e,r))}function X(e,r){return a(e)?null:j(e)?new TypeError(l("nullEw",x(e),r)):new TypeError(l("nullEw",typeof e,r))}function Z(e,r){return a(e)||j(e)?null:new TypeError(l("nullEw",typeof e,r))}function ee(e,r){var t;return a(e)?f(e)?(t=y(e),g(t,r)?null:new TypeError(l("nullEw",t,r))):new TypeError(l("nullEw",b(e),r)):j(e)?new TypeError(l("nullEw",x(e),r)):new TypeError(l("nullEw",typeof e,r))}function re(e,r){var t;return a(e)?(t=b(e),g(t,r)?null:new TypeError(l("nullEw",t,r))):j(e)?new TypeError(l("nullEw",x(e),r)):new TypeError(l("nullEw",typeof e,r))}function te(e){return"generic"===e||""===e?J:u(e)?X:E(e)?re:w(e)?ee:v(e)?K:Z}var ne=/^-?[0-9]+$/,se=/:/;function ie(e,r){var t,n,s,i;if("S"===(s=(n=I(r))[0])){if(null===(i=L(n)))throw new Error(l("nullEn",r));i=new R(i)}else if("M"===s){if(null===(i=S(n)))throw new Error(l("nullEn",r))}else if(ne.test(n))i=parseInt(n,10),i=new R(i);else if(se.test(n)){if(t=e.shape,(i=T(n,t,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===i.code)throw new Error(l("nullEq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===i.code)throw new Error(l("nullEr",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===i.code)throw new Error(l("nullEn",r));throw new RangeError(l("nullEv",t.join(","),_(n,/\.\.\.,/,"").split(",").length))}}else{if(0!==n.length&&"..."!==n)throw new Error(l("nullEn",r));i=new R}return i}function oe(e,r,t){var n,s,i,o;if("S"===(i=(s=I(r))[0])){if(null===(o=L(s)))throw new Error(l("nullEn",r));o=new R(o)}else if("M"===i){if(null===(o=S(s)))throw new Error(l("nullEn",r))}else if(ne.test(s))o=parseInt(s,10),o=new R(o);else{if(!(s.length>0))throw new RangeError(l("nullEv",e.shape.join(","),0));if(n=e.shape,(o=T(s,n,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===o.code)throw new Error(l("nullEq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===o.code)throw new Error(l("nullEr",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===o.code)throw new Error(l("nullEn",r));if("ERR_SLICE_TOO_MANY_DIMENSIONS"===o.code)throw new RangeError(l("nullEv",e.shape.join(","),_(s,/\.\.\.,/,"").split(",").length));if("ERR_SLICE_OUT_OF_BOUNDS"===o.code){if(t)throw new RangeError(l("nullEp",n.join(",")));o=T(s,n,!1)}}}return o}function le(e,r,t){var n,s,i;if("M"===(s=I(r))[0]){if(null===(i=S(s)))throw new Error(l("nullEn",r))}else if(se.test(s)||"..."===s){if(n=e.shape,(i=T(s,n,!0)).code){if("ERR_SLICE_INVALID_INCREMENT"===i.code)throw new Error(l("nullEq",r));if("ERR_SLICE_INVALID_ELLIPSIS"===i.code)throw new Error(l("nullEr",r));if("ERR_SLICE_INVALID_SUBSEQUENCE"===i.code)throw new Error(l("nullEn",r));if("ERR_SLICE_OUT_OF_BOUNDS"===i.code){if(t)throw new RangeError(l("nullEp",n.join(",")));i=T(s,n,!1)}}}else if(null===(i=N(s)))throw new Error(l("nullEn",r));return i}function de(e,r){return function(t,n){var s,i;switch((i=n).length){case 0:s=new t;break;case 1:s=new t(i[0]);break;case 2:s=new t(i[0],i[1]);break;case 3:s=new t(i[0],i[1],i[2]);break;case 4:s=new t(i[0],i[1],i[2],i[3]);break;case 5:s=new t(i[0],i[1],i[2],i[3],i[4]);break;case 6:s=new t(i[0],i[1],i[2],i[3],i[4],i[5]);break;case 7:s=new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);break;case 8:s=new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);break;case 9:s=new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8]);break;case 10:s=new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9]);break;default:s=t.apply(null,i)}return e(s,r)}}var ae=k(C(new s("generic",[0],[],[0],0,A.get("order"))));function me(e){return _(e,/^invalid argument/,"invalid operation")}function pe(e){return function(r,t,n){if(ae(t))return function(e,r,t){var n=e[r];return D(n)?function(){var r,s;for(r=[],s=0;s<arguments.length;s++)r.push(arguments[s]);return n.apply(this===t?e:this,r)}:n}(r,t,n);return function(e,r,t,n){var s;s=n(e,r,!1);try{return O(t,s,!1,!1)}catch(e){throw new e.constructor(me(e.message))}}(r,t,n,e.prop2slice)}}function ce(e){return{dtype:e}}function he(e){return function(r,n,s,i){if(ae(n))return function(e,r,t){return e[r]=t,!0}(r,n,s);return function(e,r,n,s,i){var o,m,p;if(!t(n))if("generic"===(m=e.dtype))n=W(n,ce(m));else if(a(n))if(V(m))n=W(n,ce(m));else if(M(m)){if(o=F(n),!g(o,m))throw new TypeError(l("nullEw",o,m));n=W(n,ce(m))}else if(P(m)){if(!f(n))throw new TypeError(l("nullEw",F(n),m));if(o=n<0?F(n):n<=B?"int8":n<=q?"int16":n<=Q?"int32":"float64",!g(o,m))throw new TypeError(l("nullEw",o,m));n=W(n,ce(m))}else{if("binary"!==m)throw new TypeError(l("nullEx",m));if("uint8"!==(o=F(n)))throw new TypeError(l("nullEw",o,m));n=W(n,ce(m))}else{if(!j(n))throw new TypeError(l("nullEw",typeof n,m));if(!d(m))throw new TypeError(l("nullEw",G(n),m));n=W(n,ce(m))}p=i(e,r,!1);try{return U(n,s,p,!1),!0}catch(e){throw new e.constructor(me(e.message))}}(r,n,s,i,e.prop2slice)}}function fe(){var e,r;if(e={cache:null,strict:!1},arguments.length&&(r=H(e,arguments[0])))throw r;return function r(a){var m,p,c,h,f;if(!t(a))throw new TypeError(l("null4f",a));if(Y){if(m=o({},e),arguments.length>1&&(p=H(m,arguments[1])))throw p;return f={ref:a,dtype:h=(c=i(a)).dtype||"",preSetElement:(u=h,d(u)?$:null),postGetArray:z(r,m),cache:m.cache,strict:m.strict,validator:te(h),ndarray2fancy:r,ctor:new n(a.constructor||s,{construct:de(r,m)}),prop2slice:(j=c.shape.length,0===j?ie:1===j?oe:le)},new n(a,{get:pe(f),set:he(f)})}var j;var u;return console.warn("WARNING: Proxy objects are not supported in the current environment. Some fancy functionality may not be available."),a}}var je=fe();e(je,"factory",fe),e(je,"idx",r);export{je as default,fe as factory};
//# sourceMappingURL=index.mjs.map
